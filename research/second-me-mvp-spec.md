# Second-Me (카톡/DM 자율주행) — MVP Spec v0 (2026-02-08)

## 목표
- “복붙 답장봇”이 아니라 **맥락이 끊기지 않는 제2의 나(Second-Me Conversation Runtime)**.
- 유저 기기(Win/Mac)에서 카톡 PC/웹 DM을 사람처럼 조작.
- 유저는 **폰(텔레그램)**에서 관제/킬스위치/모드 전환.

---

## 핵심 제품 구조 (2단계)

### 1) Training Mode (신뢰/튜닝)
- 기본: 메시지마다 **승인(OK)** 후에만 전송.
- 목적: 말투/금기/관계 맥락을 빠르게 맞추고, 유저가 “이거 진짜 쓸만하네”를 확인.
- **Autopilot Unlock 기본 조건:** 승인 20회
- 옵션: 24시간 무사고 모드(추가)

### 2) Autopilot Window (자율주행 시간창)
- **승인 1번 = 자율주행 시작** (매 메시지 승인 X)
- 시간 설정:
  - 프리셋: 10 / 30 / 60분
  - 커스텀: 최대 120분(상한)
  - 실행 중 연장: `+10m` 버튼만 허용 (누적 상한 적용)
- 스코프 제한:
  - 채팅방/상대 **화이트리스트 1개(기본)**
  - Autopilot ON 동안 모바일에서 직접 입력은 지양(레이스 방지)

---

## Style Mode (한국형 대화 모드) — MVP 포함

### 목표
- 기본은 **내 말투(Style Clone)** 유지
- 그 위에 한국 카톡/인스타 감성에 맞춘 **프리셋 + 토글(미세조정)** 제공

### 프리셋(원탭)
- `내말투(Default)`
- `다정`
- `쿨`
- `공감`

### 토글/옵션 (v0)
- 답장 길이: `짧게/보통/길게`
- ㅋㅋ/ㅎㅎ 사용: `끔/가끔/많이`
- 이모지 사용: `끔/가끔/많이`
- 느낌표/물음표 강도: `차분/보통/강함`
- 맞춤법/오타 유지: `원문 유지/적당히/깔끔`
- 줄바꿈 스타일: `한줄/두줄/짧게끊기`
- 플러팅 강도: `0/1/2/3`
- 선넘는 표현 차단: `ON/OFF` (기본 ON)

### Autopilot 연동
- Autopilot Window 시작 시: `시간 + 상대(화이트리스트) + 모드/토글`을 함께 선택

---

## 텔레그램 관제 패널 (MVP 고정)

### 실시간 이벤트 로그
- 상태: `CONNECTED / RETRYING / DISCONNECTED`
- Autopilot: `ON(남은시간) / OFF`
- IN: 상대 메시지 (원문 일부 + 1줄 요약)
- OUT: 보낸 답장 (원문)
- BLOCKED: 금칙/민감 감지로 차단 + 이유

### 버튼
- `STOP` (즉시 중지/안전)
- `PAUSE` (유저 개입)
- `EXTEND +10m`
- `WHITELIST OFF` (해당 상대 즉시 금지)

---

## “꺼지지 않게 유지” 원클릭 세팅 (Installer/Helper)

### 공통
- 절전/슬립 방지
- 재부팅 후 자동 실행
- 크래시 시 자동 재시작
- 네트워크 끊김 시 재시도

### Mac
- `caffeinate` 기반 sleep 방지
- LaunchAgent로 OpenClaw 자동 실행

### Windows
- 전원 설정(절전/최대절전/화면끄기 정책) 권장값 적용
- 시작프로그램/스케줄러 등록

---

## 안전장치 (필수)
- 화이트리스트(상대/채팅방)
- 금칙어/민감주제 감지 시 즉시 중지 + 텔레그램 알림
  - 돈/계좌/주소/링크/성적동의/욕설/협박 등
- 루프 감지(짧은 시간 다량 전송/반복 패턴) 시 중지
- 로그/리플레이(사후 검토 가능)

---

## 입력(퍼스널라이징)
- 상대 MBTI (선택)
- 관계 단계(썸/연인/초반)
- 내 말투 샘플 30~100개(서버 학습 X, 로컬 룰 추출)
- 금기/원칙(선 넘는 플러팅 금지, 특정 주제 금지 등)

---

## 모델/비용(수익성) 설계 — MVP 포함

### 플랜
- **BYOK(기본)**: 사용자가 자신의 API Key로 모델 비용 직접 부담
- **Hosted(옵션)**: 우리 키 제공 + 월 크레딧 상한(초과 시 일시정지/추가결제)

### Hosted 모델 라우팅(속도/원가 최적화)
- **cheap 모델(필터/요약/라우팅)**: `gpt-4o-mini`
- **답장 생성(한국어/뉘앙스 핵심)**: Claude
- 두 호출은 **병렬 실행**
  - cheap 모델이 위험 판정 시: Claude 결과가 와도 전송 차단/중지
- 조건부 호출: 단답/루틴 메시지는 Claude 호출 생략 가능

### 캡(필수)
- 유저별 월 크레딧 캡 + 전체 월 예산 하드캡

---

## 비고/리스크 메모
- 카톡 API/리버스엔지니어링 대신, **PC 앱 UI 조작(Computer Use)**로 접근.
- 약관/계정 정책 100% 안전 보장은 불가 → 제한(화이트리스트/시간창/킬스위치)로 리스크 관리.
