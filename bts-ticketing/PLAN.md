# BTS 광화문 티켓팅 프로젝트 🎫

## 목표
- **공연:** 3월 21일 (토) 오후 8시, 광화문 광장
- **티켓 오픈:** 2월 23일 오후 8시 (NOL 티켓/인터파크)
- **D-Day:** 13일 남음

---

## 🚀 OpenClaw 활용 = 왜 더 좋은가?

### 일반 매크로 vs OpenClaw 매크로

| 일반 매크로 | OpenClaw 매크로 |
|------------|----------------|
| 스크립트 고정 | AI가 실시간 판단 |
| UI 바뀌면 실패 | 자동 적응 |
| 단순 클릭 반복 | 상황별 전략 |
| 별도 알림 설정 | 텔레그램 즉시 알림 |
| 사람 계속 감시 | 자율 실행 |

### 핵심 차별화
1. **Browser Tool 활용** — OpenClaw의 브라우저 컨트롤로 페이지 분석
2. **AI 판단** — "좌석 있음" vs "매진" 실시간 인식
3. **자연스러운 행동** — AI가 랜덤하게 행동 (패턴 없음)
4. **멀티 전략** — 새로고침 + 취소표 감지 동시
5. **즉시 알림** — 성공하면 텔레그램으로 바로 알림

---

## 📋 개발 계획

### Phase 1: 기반 구축 (오늘 2/10) ✅
- [x] 프로젝트 폴더 생성
- [x] NOL 티켓 사이트 구조 분석 (iframe, XPath)
- [x] 감지 우회 기술 리서치
- [x] 메인 스크립트 작성 (main.py)
- [ ] Han 계정으로 로그인 테스트 (대기 중)

### Phase 2: 핵심 기능 (2/11~2/13)
- [ ] 공연 페이지 자동 접속
- [ ] 좌석 선택 자동화
- [ ] 결제 정보 자동 입력
- [ ] 감지 우회 (랜덤 딜레이, 마우스 패턴)

### Phase 3: AI 강화 (2/14~2/16)
- [ ] 페이지 상태 AI 분석 (매진/잔여/오류)
- [ ] 자동 재시도 전략
- [ ] 취소표 감지 모드

### Phase 4: 테스트 (2/17~2/22)
- [ ] 다른 공연으로 실전 테스트
- [ ] 속도 최적화
- [ ] 예외 처리

### Phase 5: 실전 (2/23)
- [ ] 오후 7시 30분 대기
- [ ] 오후 8시 티켓팅!

---

## 🛠️ 기술 스택

```
OpenClaw
├── browser tool (snapshot/act) — 페이지 분석 + 조작
├── exec tool — 보조 스크립트 실행
├── message tool — 텔레그램 알림
└── cron tool — 취소표 주기 체크

보조 도구
├── undetected-chromedriver — 감지 우회
├── 2captcha (옵션) — CAPTCHA 자동 해결
└── 주거용 프록시 (옵션) — IP 우회
```

---

## 📁 파일 구조

```
bts-ticketing/
├── PLAN.md          ← 이 파일
├── src/
│   ├── login.ts     — 로그인 자동화
│   ├── ticketing.ts — 티켓팅 메인 로직
│   ├── seat.ts      — 좌석 선택
│   └── payment.ts   — 결제 자동화
├── config/
│   └── settings.json — 설정 (좌석 우선순위 등)
└── logs/
    └── YYYY-MM-DD.log — 실행 로그
```

---

## ⚠️ 리스크 & 대응

| 리스크 | 대응 |
|--------|------|
| 계정 정지 | 랜덤 딜레이 + 자연스러운 행동 |
| CAPTCHA | 수동 대기 or 2captcha API |
| UI 변경 | AI 분석으로 자동 적응 |
| 네트워크 지연 | 여러 디바이스 동시 시도 |

---

## 🎯 오늘 (2/10) 목표

1. ✅ 프로젝트 구조 생성
2. ⏳ NOL 티켓 사이트 분석 (로그인, 예매 플로우)
3. ⏳ OpenClaw 브라우저로 테스트 페이지 접속
4. ⏳ 기본 로그인 자동화

---

## 💡 아이디어

### "AI 에이전트가 티켓팅하는" 컨셉
- Clo가 직접 브라우저 조작
- 상황 판단하고 최적 행동
- 실패하면 자동 재시도
- 성공하면 즉시 텔레그램 알림

### 멀티 인스턴스
- Mac mini + Han 폰 + 다른 디바이스
- 하나라도 성공하면 OK

---

*Last updated: 2026-02-10 17:14*
