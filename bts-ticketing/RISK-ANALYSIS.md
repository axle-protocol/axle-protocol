# BTS 티켓팅 매크로 위험 분석 🚨

> **작성**: 레드팀/비판자 관점
> **날짜**: 2026-02-10
> **목적**: 프로젝트 약점 발굴 및 현실적 성공률 평가

---

## ⚠️ 경고: 핵심 문제

**현재 프로젝트의 치명적 가정들:**

1. ❌ "60~70% 성공률" — **과대평가**
2. ❌ "얼굴패스 아직 미도입" — **확인 불가, 이미 하이브 MOU 체결**
3. ❌ "Camoufox가 감지 우회" — **인터파크 특화 테스트 미완료**
4. ❌ "3개 인스턴스 = 3배 확률" — **통계적 오류**

---

## 📉 현실적 성공률 재평가

### FULL-SPEC-PLAN.md 주장 vs 현실

| 항목 | 계획서 주장 | 현실적 평가 | 근거 |
|------|------------|------------|------|
| 최악 성공률 | 30% | **5~10%** | BTS 콘서트 경쟁률 수만:1 |
| 보통 성공률 | 60% | **15~25%** | 매크로 vs 암표상 경쟁 |
| 최선 성공률 | 80% | **40~50%** | 모든 것이 완벽해도 경쟁 존재 |
| 3개 인스턴스 효과 | ×3 | **×1.5~2** | 같은 계정/결제수단 제약 |

### 왜 성공률이 낮은가?

1. **BTS 경쟁률**: 일반 콘서트가 아닌 **무료 콘서트** + **팬덤 규모**
2. **전문 암표상**: 수십~수백 개 계정, 전문 인프라 보유
3. **서버 과부하**: 티켓 오픈 순간 수십만 동시접속
4. **감지 리스크**: 실패 시 모든 노력 수포

---

## 🔴 치명적 리스크 (P0)

### 1. 얼굴패스(Face Pass) 도입 가능성

**현재 상황:**
- 2024.12: TWS 콘서트에서 첫 적용 (인터파크+토스+하이브 MOU)
- 하이브 전 아티스트 확대 예정 (공식 발표)
- BTS = 하이브 소속

**문제:**
```
얼굴패스 적용 시:
1. 예매자 얼굴 등록 필수
2. 입장 시 실시간 얼굴 인식
3. 본인 외 사용 불가
4. 양도 불가
→ 매크로로 잡아도 Han이 아니면 입장 불가
```

**확인 필요:**
- [ ] 공식 예매 방법 공지 (2/20 예정) 확인
- [ ] 얼굴패스 적용 여부 확인
- [ ] 적용 시 대안 전략 수립

**완화 방안:**
- ✅ Han 본인 계정으로만 예매 (다른 계정 무의미)
- ✅ 얼굴 등록 절차 사전 파악
- ❌ 얼굴패스 적용 시 매크로 자체가 무의미할 수 있음

---

### 2. 인터파크 매크로 감지 시스템

**감지 방법 (출처 기반):**

| 감지 포인트 | 트리거 조건 | 처벌 |
|------------|------------|------|
| IP 차단 (E_02) | 1초 5회+ 클릭 | 1시간 정지 |
| 계정 정지 | 매크로 적발 | 30일 정지 + 티켓 취소 |
| 영구정지 | 반복 적발 | 영구 차단 |
| 결제 후 취소 | 모니터링 후 적발 | 공연 전날까지 취소 가능 |

**우리 취약점:**
```python
# main.py 문제점
for attempt in range(10):  # ← 10번 빠른 시도 = 감지 위험
    try:
        booking_btn.click()
    except:
        driver.refresh()
        human_delay(0.5, 1)  # ← 0.5~1초는 너무 빠름
```

**문제:**
- `human_delay(0.5, 1)` — 실제 인간은 2~5초
- 10회 연속 시도 — 패턴 감지 가능
- 새로고침 과다 — 차단 트리거

**완화 방안:**
- ✅ 딜레이를 2~5초로 증가
- ✅ 최대 시도 횟수 제한 (3~5회)
- ✅ 새로고침 간격 랜덤화 (5~15초)
- ✅ 실패 시 잠시 대기 (30초~1분)

---

### 3. 서버 과부하 대응 불가

**예상 시나리오:**
```
20:00:00 — 티켓 오픈
20:00:01 — 수십만 동시접속
20:00:02 — 서버 응답 지연 (5~30초)
20:00:10 — 일부 매진 시작
20:00:30 — 대부분 매진
```

**현재 코드 문제:**

```python
# main.py
driver.implicitly_wait(5)  # ← 서버 지연 시 5초 타임아웃
WebDriverWait(driver, 2)   # ← 2초 타임아웃 너무 짧음
```

**취약점:**
1. 타임아웃 너무 짧음 → 정상 페이지도 실패 처리
2. 예외 처리 불충분 → 크래시 가능
3. 재연결 로직 없음 → 끊기면 끝

**완화 방안:**
- ✅ 타임아웃 10~30초로 증가
- ✅ 재연결/재시도 로직 강화
- ✅ 서버 응답 상태 코드 체크
- ✅ 부분 로딩 상태 처리
- ⚠️ 서버 다운 시 모두 같은 조건 (통제 불가)

---

### 4. 계정/IP 정지 시 복구 불가

**시나리오:**
```
19:50 — 테스트 중 실수로 감지
19:55 — IP 1시간 차단
20:00 — 티켓 오픈, 참여 불가
```

**취약점:**
- 백업 계정 있어도 같은 결제수단이면 무의미
- 프록시 교체해도 계정 자체가 정지면 끝
- 공연 직전 정지 해제 불가

**완화 방안:**
- ✅ D-Day 전 테스트 최소화 (다른 공연으로만)
- ✅ 테스트 전용 계정 분리
- ✅ 프록시 사전 테스트 (D-2까지 완료)
- ✅ D-Day 당일은 "관망" 후 본게임만

---

## 🟠 고위험 리스크 (P1)

### 5. CAPTCHA 해결 실패

**현재 계획의 문제:**

```python
# main.py
def handle_captcha(driver):
    # CAPTCHA 확인
    try:
        captcha = driver.find_element(By.ID, 'imgCaptcha')
        if captcha.is_displayed():
            send_telegram("⚠️ CAPTCHA 입력 필요!")
            time.sleep(30)  # ← Han이 30초 안에 입력해야 함
```

**취약점:**
1. 30초 타임아웃 — 한숨 돌리면 끝
2. 수동 입력 의존 — Han이 다른 일 하면?
3. 2Captcha 연동 미완성 — 계획만 있음

**실패 확률:**
- 수동 입력: Han 집중 실패 시 100% 실패
- 2Captcha: 응답 10~30초, 서버 과부하 시 더 지연

**완화 방안:**
- ✅ 2Captcha 연동 **지금 완성** (계획 아닌 구현)
- ✅ 타임아웃 60초로 증가
- ✅ 텔레그램 알림에 이미지 첨부
- ✅ Han 폰에 알림 소리 설정
- ⚠️ CAPTCHA 해결 속도가 승패 갈림

---

### 6. 멀티 인스턴스 충돌

**계획의 가정:**
> "3개 인스턴스 동시 → 성공률 3배"

**현실:**
```
인스턴스 1: 로그인 완료, 좌석 선택 중
인스턴스 2: 같은 계정 로그인 시도
→ 세션 충돌 가능
→ 인스턴스 1 로그아웃됨
```

**추가 문제:**
- 같은 결제수단으로 동시 예매 불가
- 인터파크 2024.08부터 PC+모바일 동시접속 불가
- 같은 IP에서 3개 = 3배 의심

**완화 방안:**
- ✅ 계정별 인스턴스 분리 (인스턴스당 1계정)
- ✅ 각 인스턴스 다른 프록시 사용
- ✅ 결제수단도 분리 (가능하면)
- ⚠️ 3개 인스턴스 ≠ 3배 확률, 실제로는 1.5~2배

---

### 7. 코드 미완성 상태

**main.py 검토 결과:**

| 기능 | 상태 | 문제 |
|------|------|------|
| 로그인 | ⚠️ 기본 구현 | iframe 전환 에러 처리 부족 |
| 예매 버튼 클릭 | ⚠️ 기본 구현 | XPath 하드코딩, 변경 시 실패 |
| CAPTCHA | ❌ 미완성 | 수동 입력만, 2Captcha 미연동 |
| 좌석 선택 | ⚠️ 기본 구현 | 세부 구역 선택 로직 단순 |
| 결제 | ❌ 미구현 | 수동으로 넘김 |
| 에러 복구 | ❌ 미구현 | 예외 발생 시 크래시 |
| 프록시 로테이션 | ❌ 미구현 | 계획에만 있음 |

**시간 부족:**
- D-Day까지 13일
- Week 1 개발 + Week 2 테스트 계획
- 현재 완성도: ~20%

**완화 방안:**
- ✅ 핵심 기능 우선 (로그인 → 좌석 → 나머지)
- ✅ 2Captcha 연동 즉시 구현
- ✅ 에러 처리 강화
- ✅ 테스트 시간 확보 (최소 3일)

---

## 🟡 중위험 리스크 (P2)

### 8. 프록시 품질 문제

**리스크:**
- 저가 프록시 = 느린 응답, 불안정
- 한국 IP가 실제로 한국 위치가 아닐 수 있음
- 티켓팅 사이트에서 이미 차단된 IP일 가능성

**테스트 필요:**
- [ ] 프록시 응답 속도 (<200ms 목표)
- [ ] 인터파크 접속 성공 여부
- [ ] IP 위치 확인 (실제 한국인지)

**완화 방안:**
- ✅ ISP 프록시 > 주거용 프록시 (더 빠름)
- ✅ 최소 2~3개 백업 프록시 준비
- ✅ D-3까지 프록시 테스트 완료

---

### 9. 브라우저 감지 업데이트

**리스크:**
- Camoufox, Nodriver 등 오픈소스 → 인터파크도 파악 가능
- 새 감지 로직 업데이트 시 당일 실패
- GitHub star 5k+ = 타겟이 됨

**출처 기반 사실:**
> "반복적으로 사용시, 매크로로 감지하여 정지먹음 주의"
> — spectrum20.tistory.com

**완화 방안:**
- ✅ D-Day 직전에 라이브러리 최신 버전 확인
- ✅ SeleniumBase UC Mode 백업 (가장 활발한 유지보수)
- ✅ 수동 Chrome 디버깅 모드도 준비

---

### 10. 네트워크/하드웨어 장애

**시나리오:**
```
19:55 — Mac mini 갑자기 재부팅
19:58 — 인터넷 끊김
20:00 — 복구 중, 티켓팅 놓침
```

**완화 방안:**
- ✅ Mac mini + Han 폰 + 다른 디바이스 (최소 2개)
- ✅ D-Day 19:00 시스템 점검
- ✅ 모바일 핫스팟 백업
- ✅ 배터리/전원 확인

---

## 📋 법적/윤리적 리스크

### 11. 법적 리스크

**관련 법률:**
- 공연법: 암표 매매 처벌 (최대 1년 이하 징역)
- 컴퓨터프로그램보호법: 무단 자동화
- 인터파크 이용약관 위반: 민사 책임

**우리 상황:**
- ✅ 본인 관람 목적 → 암표 매매 아님
- ⚠️ 자동화 도구 사용 → 이용약관 위반
- ⚠️ 적발 시: 티켓 취소, 계정 정지

**법적 위험도:**
- 형사 처벌: 낮음 (본인 사용 목적)
- 민사 책임: 중간 (이용약관 위반)
- 실질적 리스크: 계정 정지, 티켓 취소

**완화 방안:**
- ✅ 절대 재판매하지 않음
- ✅ 본인 관람 목적 명확히
- ⚠️ 티켓 취소될 경우 수동으로 재시도 준비

---

### 12. 윤리적 고려

**질문:**
- 다른 팬의 기회를 빼앗는 것인가?
- 시스템을 악용하는 것인가?

**현실:**
- 암표상이 수십~수백 계정 운영
- 수동 예매자는 이미 불리한 상황
- 매크로 없이는 BTS 콘서트 티켓 거의 불가능

**결론:**
- 개인 1~2장 목적 → 윤리적으로 회색 영역
- 대량 구매 → 명백한 문제
- 우리 목적: 본인 관람 1장 → 수용 가능 범위

---

## 🛠️ 완화 전략 요약

### 즉시 실행 (D-12 이전)

| 우선순위 | 작업 | 담당 |
|----------|------|------|
| P0 | 2Captcha 연동 완성 | Clo |
| P0 | 얼굴패스 적용 여부 확인 | Han |
| P0 | 에러 처리/복구 로직 추가 | Clo |
| P1 | 프록시 구매 및 테스트 | Han |
| P1 | 딜레이/타임아웃 현실화 | Clo |

### 테스트 기간 (D-7 ~ D-2)

| 우선순위 | 작업 | 담당 |
|----------|------|------|
| P0 | 다른 공연으로 실전 테스트 (최소 2회) | Han |
| P0 | 버그 수정 및 안정화 | Clo |
| P1 | 멀티 인스턴스 테스트 | Han+Clo |
| P2 | 백업 디바이스 세팅 | Han |

### D-Day 준비 (D-1)

| 시간 | 작업 |
|------|------|
| 아침 | 최신 라이브러리 버전 확인 |
| 오후 | 프록시 연결 테스트 |
| 저녁 | 시스템 점검, 리허설 |
| 19:00 | 브라우저 실행, 로그인 |
| 19:50 | 예매 페이지 대기 |

---

## 📊 수정된 예상 성공률

### 조건별 성공률

| 조건 | 성공률 | 비고 |
|------|--------|------|
| 얼굴패스 미적용 + 모든 것 완벽 | 25~35% | 경쟁률 고려 |
| 얼굴패스 미적용 + 일부 문제 | 15~25% | 현실적 |
| 얼굴패스 미적용 + 감지/정지 | 0% | 치명적 |
| **얼굴패스 적용** | **해당 없음** | 본인만 입장 가능 |

### 최종 평가

| 시나리오 | 확률 | 설명 |
|----------|------|------|
| 대성공 (VIP/R석) | 10~15% | 모든 것 완벽 + 운 |
| 성공 (어떤 좌석이든) | 20~30% | 현실적 목표 |
| 부분 성공 (취켓팅 포함) | 35~45% | 초기 실패 후 취켓팅 성공 |
| 실패 | 55~65% | 경쟁, 감지, 기술적 문제 |

---

## 🚨 결론

### 가장 큰 불확실성
1. **얼굴패스 적용 여부** — 확인 전까지 모든 계획이 무의미할 수 있음
2. **인터파크 감지 시스템 현황** — 2026년 최신 정보 부족

### 프로젝트 계속 진행?

| 조건 | 판단 |
|------|------|
| 얼굴패스 미적용 확인 | ✅ 진행 |
| 얼굴패스 적용 확인 | ⚠️ 전략 재검토 필요 |
| 개발 완료 불가 (시간 부족) | ❌ 수동 티켓팅 전환 |

### 대안 전략 (얼굴패스 적용 시)

1. **수동 티켓팅 최적화**: 빠른 인터넷, 사전 로그인, 결제정보 저장
2. **취켓팅 집중**: 공연 직전 취소표 노리기
3. **공식 선예매**: 위버스 멤버십으로 선예매 시도

---

## 📌 체크리스트

### 확인 필요 (Han)
- [ ] 2/20 공식 예매 방법 공지 확인
- [ ] 얼굴패스 적용 여부 확인
- [ ] 인터파크 계정 상태 점검 (정지 이력?)

### 개발 필수 (Clo)
- [ ] 2Captcha API 연동 완성
- [ ] 에러 처리/복구 로직 추가
- [ ] 딜레이/타임아웃 현실화 (2~5초)
- [ ] 프록시 로테이션 구현

### 테스트 필수
- [ ] 다른 공연으로 2회 이상 실전 테스트
- [ ] 프록시 응답 속도 측정
- [ ] 멀티 인스턴스 충돌 테스트

---

*이 문서는 현실적인 비판을 위해 작성됨. 성공률 과대평가는 실패로 이어짐.*

**Remember: 희망은 전략이 아니다.**

---

*Last updated: 2026-02-10 19:34 KST*
