# SmartStore 풀자동화 시스템 — 전략 계획서 (외부 검토용)

**작성일:** 2026-02-15
**버전:** v2 (스윕 경쟁 분석 반영 강화판)
**목적:** 전략적 방향성/실행 계획 외부 검토 (ChatGPT 등)
**관련 문서:** `AUDIT-SMARTSTORE.md`, `COMPETITIVE-ANALYSIS.md`, `SWEEP-DEEP-ANALYSIS.md`, `RENEWAL-PLAN.md`

---

## Executive Summary

1인 위탁판매 셀러를 위한 풀자동화 SaaS. 직접 경쟁사 스윕(Sweep, 15억+ 투자 유치)이 "5분 만에 끝내는 발주"를 표방하는 반면, 우리는 **"발주 자체를 없애는"** 접근. 벤더 포탈(시장 최초) + OpenClaw AI 에이전트(24/7 자율 운영) + AI CS(시장 전무)로 차별화.

---

## 1. 시장 상황

### 1-1. 시장 규모
- 네이버 스마트스토어 판매자: ~57만 명
- 위탁판매 셀러: 11,500명+ (급증 추세)
- 커머스솔루션마켓 이용 판매자: 10만명+

### 1-2. 경쟁 구도

| 솔루션 | 포지션 | 월 가격 | 핵심 특성 |
|--------|--------|---------|-----------|
| **사방넷** | 시장 지배자 (80%) | 15만~52만원 | 650+ 채널, 복잡/고가 |
| **플레이오토** | 2위 (23만 셀러) | 16만~60만원 | 설치형, 대량 처리 |
| **스윕** | 직접 경쟁자 | 추정 3~10만원 | 위탁판매 특화, 15억 투자, 8명 팀 |
| **셀로** | 저가 대안 | 무료~3.85만원 | 기능 제한 |
| **우리** | 차세대 | 2.9~9.9만원 | 벤더 포탈 + AI 에이전트 |

### 1-3. 시장의 구조적 공백 3가지

1. **공급사 측 시스템 = 0개** — 7개 경쟁사 모두 "셀러만 쓰는 도구"
2. **AI 기반 자동화 = 0개** — 전부 크론잡/스케줄러 수준
3. **End-to-End 완전 자동화 = 0개** — 파이프라인 중간에 반드시 수작업 존재

---

## 2. 우리 제품 정의

### 2-1. 원라이너
> **"당신이 잠든 사이, AI가 주문부터 CS까지 전부 처리합니다."**

### 2-2. 근본적 전략 차이

```
스윕:  "엑셀 발주서를 더 빠르게 만들어주겠다" (엑셀 최적화)
우리:  "엑셀 발주서 자체를 없애겠다" (구조 혁신)

스윕:  주문 → [셀러가 클릭] → 발주서 생성 → [이메일 전송] → [공급사가 확인] → [송장 카톡/이메일] → [셀러가 복붙]
우리:  주문 → [AI 자동 배분] → 벤더 포탈에 표시 → [공급사가 직접 입력] → [자동 수집] → [자동 발송처리]
```

### 2-3. 핵심 차별화 기능

| # | 기능 | 경쟁사 현황 | 우리의 접근 |
|---|------|-----------|-----------|
| 1 | **벤더 포탈** | 7개 경쟁사 중 0개 | 공급사 전용 웹 포탈 — 주문확인/송장입력/상태관리 |
| 2 | **AI 에이전트 24/7** | 0개 (스케줄러만 존재) | OpenClaw 런타임 — 크론+텔레그램+브라우저+메모리 |
| 3 | **AI CS 자동응답** | 0개 | LLM + 주문데이터 연동 맥락 인식 답변 |
| 4 | **배송 추적 + 지연 알림** | 이지어드민만 제한적 | korean-delivery-tracker (5대 택배사 이미 구현) |
| 5 | **양면 네트워크 효과** | 0개 (모두 단방향) | 셀러↔공급사 양방향 플랫폼 → lock-in |

### 2-4. 스윕 대비 Gap 분석 및 대응

#### 스윕이 가졌고 우리가 없는 것 (따라잡아야 할 것)

| Gap | 위협도 | 대응 전략 | 시점 |
|-----|--------|----------|------|
| 멀티채널 API 주문 수집 | 🔴 높음 | 네이버 커머스 API부터 순차 연동 | Phase 4 |
| 합배송/묶음/나눔 자동화 | 🟡 중간 | 주문 그룹핑 로직 추가 | Phase 2+ |
| 정산 자동화 | 🟡 중간 | 공급사별/기간별 매출 리포트 | Phase 2 |
| 취소/교환/반품 통합 처리 | 🟡 중간 | 클레임 관리 모듈 | Phase 4 |
| 크롬 확장프로그램 | 🟢 낮음 | 웹 기반으로 충분, 필요시 추후 | Phase 5+ |
| 알리/테무 특화 기능 | 🟢 낮음 | 국내 위탁판매 집중 후 글로벌 확장 | Phase 5+ |
| 21일 무료 체험 | 🟢 낮음 | Starter 플랜 무료 제공 | MVP |

#### 우리가 가졌고 스윕에 없는 것 (지켜야 할 것)

| 우위 | 방어 가능성 | 이유 |
|------|-----------|------|
| 벤더 포탈 | 🟢 높음 | 스윕이 만들려면 기존 엑셀 워크플로우 재설계 필요 (기존 고객 혼란) |
| AI 에이전트 24/7 | 🟢 높음 | OpenClaw 인프라 없이는 불가. AI 에이전트 운영 경험 필요 |
| AI CS | 🟢 높음 | LLM 연동 + 주문 데이터 파이프라인 필요. 스윕 팀에 AI 인력 부재 |
| 배송 추적 | 🟡 중간 | 택배사 API 연동은 누구나 가능. 선제적 알림이 차별화 |
| 양면 네트워크 | 🟢 높음 | 먼저 공급사 풀을 확보하면 후발 주자 진입장벽 |

---

## 3. 기술 현황 및 아키텍처

### 3-1. 현재 기술 스택
- **서버:** Node.js 단일 프로세스 (`server.mjs`, ~2500줄, 33개 API 엔드포인트)
- **저장소:** JSON 파일 (MVP). safeWriteJson으로 무결성 확보
- **인증:** Owner(BasicAuth+Cookie), Vendor(Cookie Session, PBKDF2-SHA256 120k iterations)
- **프론트엔드:** Vanilla HTML/JS
- **외부 의존:** Python (xlsx 암호화 해제만)

### 3-2. 코드 감사 결과
- **CRITICAL 버그 3개:** readMultipart 인자 불일치, 세션 만료 없음, 쿠키 보안
- **HIGH 이슈 10개:** rate limit 없음, XSS, CSRF 없음, audit log 누락
- **판정:** 재구축 불필요. 수정해서 운영 가능. 핵심 플로우 동작함.

### 3-3. 리뉴얼 후 아키텍처

```
┌─ 셀러 (Han) ─────────────────────────────────────┐
│  텔레그램 봇: 알림, 승인, 일일 리포트               │
│  웹 대시보드: 통계, 주문관리, 벤더관리               │
└───────────────────────┬───────────────────────────┘
                        │
┌─ OpenClaw AI 에이전트 ─┼──────────────────────────┐
│                        │                          │
│  [주문 감시]  5분 간격 → 신규 주문 자동 배분        │
│  [송장 추적] 15분 간격 → 미입력 감시, 벤더 독촉     │
│  [발송 처리] 10분 간격 → 준비된 주문 자동 발송       │
│  [배송 추적] 30분 간격 → 택배 추적, 지연 알림       │
│  [일일 리포트] 매일 21시 → 운영 요약 텔레그램 전송   │
│  [CS 응답] (Phase 4) → 톡톡 AI 자동응답            │
│                        │                          │
│  ┌─ SmartStore Server ─┼────────────────────────┐ │
│  │  localhost:3030     │                        │ │
│  │  33+ API 엔드포인트  │  + Agent API 6개 추가  │ │
│  └─────────────────────┼────────────────────────┘ │
│                        │                          │
│  ┌─ 벤더 포탈 ─────────┼────────────────────────┐ │
│  │  공급사 웹 접속 → 주문 확인 → 송장 입력        │ │
│  │  모바일 최적화 + PWA                           │ │
│  └──────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────┘
```

### 3-4. OpenClaw 에이전트 핵심 역량 (이미 구축됨)

| 역량 | 활용 | 상태 |
|------|------|------|
| 크론 스케줄링 | 주문 폴링, 송장 감시, 리포트 | ✅ 28개 작업 운용 중 |
| 텔레그램 봇 | 실시간 알림, 승인 요청, 보고 | ✅ 동작 중 |
| 브라우저 자동화 | 스마트스토어 셀러센터 조작 | ✅ Chromium+Playwright |
| 메모리 시스템 | 주문 이력, 공급사 패턴 학습 | ✅ SQLite+파일 기반 |
| 택배 추적 스킬 | CJ/한진/롯데/우체국/로젠 | ✅ **이미 설치됨** |
| 서브에이전트 | 병렬 작업 처리 | ✅ 최대 8개 동시 |

---

## 4. 실행 계획

### Phase 1: 기반 안정화 (2-3시간)

치명 버그 수정 + 보안 강화. 병렬 에이전트로 동시 처리.

| 작업 | 내용 |
|------|------|
| readMultipart 수정 | 주문 엑셀 업로드 정상화 |
| 세션 만료 추가 | Owner 24시간, Vendor 14일 유지 |
| 쿠키 secure 동적 처리 | HTTPS 환경 대응 |
| 로그인 rate limit | IP 기반 5회/분, 10회 시 15분 락아웃 |
| XSS 방지 | escapeHtml 적용 |
| CSRF 보호 | SameSite=Strict + Origin 검증 |
| audit log 강화 | 벤더 생성/상품 업로드/매핑 변경 기록 |
| 택배사 라벨 완성 | 6개 택배사 전체 |

### Phase 2: 기능 완성 — 실운영 MVP (5-7시간)

**"내일 사장님한테 줘도 사고 없는" 수준으로 올리기**

#### A. 벤더 관리 완성
- 수정/비활성화/비밀번호 리셋
- Admin UI에 벤더 관리 패널

#### B. 주문 관리 강화
- 상태 lifecycle: pending → assigned → shipped → delivered
- 전화/주소 파싱 수정 (Python 파서 컬럼 매핑)
- 매핑 충돌 방지 (1 productNo : 1 vendor)
- 발송처리 "이미 업로드됨" 추적
- **합배송 그룹핑** — 동일 수령인+주소 주문 자동 그룹화 (스윕 대응)

#### C. 벤더 포탈 UX
- 택배사 6개 전체 드롭다운
- 날짜 필터 (오늘/이번주/이번달)
- 벌크 송장 입력 (엑셀 업로드)
- 주문 검색 (상품명, 수령인)
- 비밀번호 변경

#### D. Admin 대시보드
- 통계 카드 (오늘 주문/발송/미처리/벤더별)
- 주문 목록 테이블 (필터/검색/페이지네이션)
- 벤더별 현황 (미처리/완료 건수)
- 업로드 히스토리
- **간이 정산 뷰** — 벤더별/기간별 주문수/총액 (스윕 대응)

#### E. 운영 안전장치
- 개인정보 마스킹 옵션
- audit log 로테이션 (30일)
- 에러 핸들링 강화
- 업로드 파일 자동 정리

### Phase 3: OpenClaw 에이전트 통합 (3-5시간)

#### A. 에이전트 API 레이어
server.mjs에 OpenClaw 크론이 호출할 전용 엔드포인트 6개 추가:
```
GET  /api/agent/new-orders          — 신규 주문
GET  /api/agent/pending-tracking    — 송장 미입력 주문
GET  /api/agent/ready-to-dispatch   — 발송 준비 주문
POST /api/agent/auto-dispatch       — 자동 발송처리
GET  /api/agent/daily-summary       — 일일 요약
GET  /api/agent/anomalies           — 이상 패턴
```

#### B. OpenClaw 크론 작업 5개 등록
1. **주문 감시** (5분) — 신규 주문 감지 → 자동 배분 → 텔레그램 알림
2. **송장 추적** (10/14/18시) — 미입력 감시 → 벤더 독촉
3. **자동 발송** (10분) — 준비된 주문 → Han 승인 요청 → 자동 처리
4. **배송 추적** (30분) — korean-delivery-tracker로 추적 → 지연 알림
5. **일일 리포트** (21시) — 운영 요약 → 텔레그램 전송

#### C. Playwright 셀러센터 모듈 (구조만)
- `agents/smartstore-uploader.mjs` — 발송처리 엑셀 자동 업로드
- 네이버 셀러센터 로그인 → 발주/발송 → 엑셀 업로드
- 실제 동작은 네이버 로그인 세션 확보 후

### Phase 4: 외부 API 연동 (별도 일정, API 키 확보 후)

| 기능 | API | 필요한 것 | 효과 |
|------|-----|----------|------|
| 주문 자동 수집 | 네이버 커머스 API | 앱 등록+심사 | 엑셀 업로드 제거 |
| 자동 발송처리 | 네이버 커머스 API | 동일 | Playwright 대체 |
| AI CS 자동응답 | 톡톡 챗봇 API | 챗봇 등록+TLS | CS 자동화 |
| 취소/반품 관리 | 네이버 커머스 API | 동일 | 클레임 자동화 |
| 멀티마켓 | 쿠팡/11번가 API | 각 마켓 앱 등록 | 채널 확장 |

---

## 5. 셀러의 하루 (리뉴얼 완료 후)

### Before (현재)
```
09:00  스마트스토어 접속 → 주문 엑셀 다운로드 (10분)
09:10  엑셀 열어서 공급사별로 분류 (30분)
09:40  각 공급사에게 카톡으로 발주서 전달 (20분)
10:00  다른 일 하면서 카톡 확인 반복...
14:00  공급사들한테 송장번호 카톡으로 받기 (산발적, 30분+)
14:30  송장번호 엑셀에 복붙 (20분)
15:00  스마트스토어에 발송처리 업로드 (10분)
15:10  고객 CS 문의 확인 + 답변 (30분+)
        → 총 2-3시간, 하루종일 신경 써야 함
```

### After (리뉴얼 후)
```
07:00  📱 텔레그램: "어젯밤 신규 주문 23건, 자동 배분 완료"
       → 확인 (10초)

10:00  📱 텔레그램: "벤더 A 송장 15건 입력, 발송처리 준비됨"
       → "확인" 탭 (5초) → 자동 업로드

14:00  📱 텔레그램: "CS 3건 AI 자동응답 완료"
       → 답변 내용 훑어보기 (1분)

18:00  📱 텔레그램: "벤더 C 미입력 5건 (24h 초과)"
       → "독촉" 탭 (5초) → 벤더에 자동 알림

21:00  📱 텔레그램: 일일 리포트
       "주문 42건 / 발송 38건 / CS 7건(AI 5건) / 미처리 4건"
       → 총 10분, 텔레그램만 보면 됨
```

---

## 6. 가격 전략

| 플랜 | 월 가격 | 대상 | 포함 기능 |
|------|--------|------|----------|
| **Starter** | 무료 | 체험 | 주문 수집+수동 배분 (월 100건) |
| **Solo** | 29,000원 | 1인 셀러 | 자동 배분+벤더 포탈(3개)+자동 발송 (월 1,000건) |
| **Pro** | 59,000원 | 성장 셀러 | Solo+AI CS+이상 탐지+벤더 10개 (월 5,000건) |
| **Team** | 99,000원 | 소규모 팀 | Pro+멀티마켓+팀 관리+벤더 30개 (무제한) |

**스윕 대비:** Solo(2.9만)으로 스윕 추정 가격(3~10만)과 경쟁. 벤더 포탈이라는 추가 가치로 동일 가격대에서 우위.

**ROI:**
- Solo: 하루 2시간 절약 × 30일 = 60시간/월. 시급 1만원 기준 60만원 가치를 2.9만원에
- Pro: CS 담당 1명 대체. 월 200만원 인건비를 5.9만원에

---

## 7. 로드맵 요약

```
[Phase 1] ─── 보안 수정 ──── 2-3시간 ──── 바로 시작
[Phase 2] ─── 실운영 MVP ── 5-7시간 ──── Phase 1 직후
[Phase 3] ─── AI 에이전트 ── 3-5시간 ──── Phase 2 직후
                                          ↓
                              "내일 사장님한테 줘도 되는" 수준 달성
                                          ↓
[Phase 4] ─── API 연동 ──── API 키 확보 후 ── 1-2주
[Phase 5] ─── 멀티마켓 ──── Phase 4 후 ──── 2-4주
```

---

## 8. 리스크 매트릭스

| 리스크 | 확률 | 영향 | 대응 |
|--------|------|------|------|
| 스윕이 벤더 포탈 출시 | 중 | 높 | **빠른 시장 진입 + 공급사 네트워크 선점** |
| 네이버 자체 솔루션 출시 | 낮 | 높 | AI 에이전트 차별화로 대응 |
| 공급사 온보딩 저항 | 중 | 높 | 모바일 최적화 + 카톡 링크 + 교육자료 |
| 네이버 셀러센터 자동화 탐지 | 높 | 중 | API 전환 준비 + 수동 폴백 |
| 코드 수정 중 기존 기능 깨짐 | 중 | 중 | 각 Phase 후 스모크 테스트 |

---

## 9. 성공 지표

### 단기 (Phase 1-3 완료 시)
- [ ] 주문 업로드 → 벤더 배분 → 송장 입력 → 발송처리 E2E 테스트 통과
- [ ] OpenClaw 에이전트가 5분마다 주문 감시 동작
- [ ] 텔레그램으로 실시간 알림 수신
- [ ] 배송 추적 + 지연 감지 동작

### 중기 (Phase 4 완료 시)
- [ ] 네이버 커머스 API로 엑셀 업로드 제거
- [ ] AI CS 자동응답 70%+ 처리율
- [ ] 초기 셀러 100명, 활성 공급사 300개

### 장기 (6-12개월)
- [ ] 멀티마켓 3개+ 연동
- [ ] 셀러 2,000명, 공급사 5,000개
- [ ] 공급사 네트워크 효과 발생

---

## 10. 검토 요청 사항

이 계획서에 대해 다음을 평가해주세요:

1. **전략적 방향성** — 벤더 포탈 + AI 에이전트 차별화가 스윕 대비 충분한가?
2. **실행 우선순위** — Phase 순서와 각 Phase 내 작업 우선순위가 적절한가?
3. **빠진 것** — 스윕이 가진 기능 중 즉시 따라잡아야 하는데 빠진 것은?
4. **과한 것** — 현 단계에서 불필요하게 포함된 것은?
5. **가격 전략** — Solo 2.9만원이 적절한가? 스윕 대비 경쟁력 있는가?
6. **리스크** — 놓친 리스크가 있는가? 대응 전략이 충분한가?
7. **OpenClaw 통합** — AI 에이전트 접근이 현실적인가? 과대평가된 부분은?
8. **MVP 범위** — Phase 2까지의 범위가 MVP로 적절한가? 더 줄여야 하나?

---

*관련 상세 문서:*
- *`AUDIT-SMARTSTORE.md` — 현재 코드 전수 감사 결과 (603줄)*
- *`COMPETITIVE-ANALYSIS.md` — 경쟁사 7개 기능 매트릭스 + 마케팅 카피 (641줄)*
- *`SWEEP-DEEP-ANALYSIS.md` — 스윕 심층 분석 (22개 기능 + Gap Analysis)*
- *`RENEWAL-PLAN.md` — 상세 실행 계획서 (모든 작업 항목 포함)*
